Regression-test style oop stuff hand-coded, reference version.

